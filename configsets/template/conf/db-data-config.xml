<dataConfig>
    <dataSource name="ds-db" driver="com.mysql.jdbc.Driver" url="jdbc:mysql://localhost:3306/msa_cms_dev" user="msa_dev"
                password="cgykdjAn2EQN7fVsy6aTJ8FH" useSSL="false" batchSize="1"/>
    <dataSource name="ds-file" type="BinFileDataSource"/>
    <document>
        <entity dataSource="ds-db" name="legislation" query="         SELECT leg.id as legislation_id,session,state,title,abstract,sponsor_name,sponsor_url,external_id,status_standard_val,type,status_val,number,status_standardkey FROM legislation AS leg         LEFT JOIN session_info ON leg.session_id = session_info.id         LEFT JOIN hidden_bills as hb ON leg.id = hb.bill_id AND entity_type = 'legislation' AND client_id =          WHERE leg.id IN (SELECT DISTINCT(entity_id) as id FROM client_settings as cs         INNER JOIN profile_match as pm ON cs.category=pm.pname AND cs.client_id = pm.client_id         WHERE cs.client_id =  AND type = 'category' AND isfrontactive= 1 and entity_type = 'legislation') AND is_active = 1 AND hidden_timestamp IS NULL;">     <entity dataSource="ds-db" name="priority" query="SELECT IF (COUNT(id) = 0,0,1) as priority FROM prioritized_bills WHERE bill_id = '' AND client_id =  AND entity_type='legislation';"></entity>     <entity dataSource="ds-db" name="entity_text" query="SELECT content as path FROM entity_text WHERE entity_text.entity_id = '';">         <entity name="file" dataSource="ds-file" processor="TikaEntityProcessor" url="" format="text" onError="skip">             <field column="text" name="content" />         </entity>     </entity>     <entity dataSource="ds-db" name="profile_match" query="SELECT id as pmid, pname,entity_type,entity_id FROM profile_match WHERE entity_type = 'legislation'             AND profile_match.entity_id = '' AND client_id = ">         <entity dataSource="ds-db" name="profile_keyword" query="                         SELECT keyword FROM profile_keyword                         WHERE profile_keyword.profile_match_id= ''">         </entity>     </entity> </entity> <entity dataSource="ds-db" name="regulation" query="SELECT regulation.id as regulation_id,state,agency_name,type,state_action_type,register_date FROM regulation                  LEFT JOIN hidden_bills as hb ON regulation.id = hb.bill_id AND entity_type = 'regulation' AND client_id =                   WHERE regulation.id IN (SELECT DISTINCT(entity_id) as id FROM client_settings as cs                  INNER JOIN profile_match as pm ON cs.category=pm.pname AND cs.client_id = pm.client_id                  WHERE cs.client_id =  AND type = 'category' AND isfrontactive= 1 and entity_type = 'regulation') AND hidden_timestamp IS NULL;">     <entity dataSource="ds-db" name="priority" query="SELECT IF (COUNT(id) = 0,0,1) as priority FROM prioritized_bills WHERE bill_id = '' AND client_id =  AND entity_type='regulation';"></entity>     <entity dataSource="ds-db" name="entity_text" query="SELECT content as path FROM entity_text WHERE entity_text.entity_id = '' AND entity_type = 'regulation';">         <entity name="file" dataSource="ds-file" processor="TikaEntityProcessor" url="" format="text" onError="skip">             <field column="text" name="content" />         </entity>     </entity>     <entity dataSource="ds-db" name="profile_match" query="SELECT id as pmid, pname,entity_type,entity_id FROM profile_match WHERE entity_type = 'regulation'             AND profile_match.entity_id = '' AND client_id = ">         <entity dataSource="ds-db" name="profile_keyword" query="                         SELECT keyword FROM profile_keyword                         WHERE profile_keyword.profile_match_id= ''">         </entity>     </entity> </entity> <entity dataSource="ds-db" name="hearing" query="SELECT hearing.id as hearing_id,date,time,house,committee,place,state FROM hearing                     LEFT JOIN hidden_bills as hb ON hearing.id = hb.bill_id AND entity_type = 'hearing' AND client_id =                   WHERE hearing.id IN (SELECT DISTINCT(entity_id) as id FROM client_settings as cs                  INNER JOIN profile_match as pm ON cs.category=pm.pname AND cs.client_id = pm.client_id                  WHERE cs.client_id =  AND type = 'category' AND isfrontactive= 1 and entity_type = 'hearing') AND hidden_timestamp IS NULL;">     <entity dataSource="ds-db" name="priority" query="SELECT IF (COUNT(id) = 0,0,1) as priority FROM prioritized_bills WHERE bill_id = '' AND client_id =  AND entity_type='hearing';"></entity>     <entity dataSource="ds-db" name="profile_match" query="SELECT id as pmid, pname,entity_type,entity_id FROM profile_match WHERE entity_type = 'hearing'                     AND profile_match.entity_id = '' AND client_id = ">         <entity dataSource="ds-db" name="profile_keyword" query="                         SELECT keyword FROM profile_keyword                         WHERE profile_keyword.profile_match_id= ''">         </entity>     </entity> </entity>
    </document>
</dataConfig>
